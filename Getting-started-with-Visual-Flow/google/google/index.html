
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://visual-flow.com/Getting-started-with-Visual-Flow/google/google/">
      
      
        <link rel="prev" href="../GCP_NFS_server_how_to/">
      
      
        <link rel="next" href="../../minikube/minikube/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/icon-logo-slider.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Installation Visual Flow to Google Kubernetes Engine (GKE) - VisualFlow Wiki</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#installation-visual-flow-to-google-kubernetes-engine-gke" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="VisualFlow Wiki" class="md-header__button md-logo" aria-label="VisualFlow Wiki" data-md-component="logo">
      
  <img src="../../../assets/icon-logo-slider.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            VisualFlow Wiki
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Installation Visual Flow to Google Kubernetes Engine (GKE)
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="deep-orange"  aria-label="Light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="deep-purple"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/ibagroup-eu/Visual-Flow" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    ibagroup-eu/Visual-Flow
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="VisualFlow Wiki" class="md-nav__button md-logo" aria-label="VisualFlow Wiki" data-md-component="logo">
      
  <img src="../../../assets/icon-logo-slider.png" alt="logo">

    </a>
    VisualFlow Wiki
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ibagroup-eu/Visual-Flow" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    ibagroup-eu/Visual-Flow
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Welcome to VisualFlow Wiki!
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    About Visual Flow
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    About Visual Flow
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../About-Visual-Flow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    General info
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../About-Visual-Flow/CONTRIBUTING/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    How to contribute to Visual Flow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../About-Visual-Flow/Changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting started with Visual Flow
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting started with Visual Flow
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    General info
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SLACK_NOTIFICATION/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Connect Visual Flow notifications to a Slack Workspace
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    AWS
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    AWS
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AWS/AWS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation Visual Flow to Amazon Elastic Kubernetes Service (EKS)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Azure
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Azure
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../azure/Rook_ceph_on_AKS_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rook ceph on AKS guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../azure/azure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation Visual Flow to Azure Kubernetes Service (AKS)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" checked>
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Google
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Google
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../GCP_NFS_server_how_to/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GCP NFS server how to
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Installation Visual Flow to Google Kubernetes Engine (GKE)
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation Visual Flow to Google Kubernetes Engine (GKE)
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisite-installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Prerequisite Installation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-prerequisite-tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        Setting up prerequisite tools
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clone-visual-flow-repository" class="md-nav__link">
    <span class="md-ellipsis">
      
        Clone Visual Flow repository
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-gke-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create GKE cluster
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Create GKE cluster">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connect-to-existing-gke-cluster-from-the-local-machine" class="md-nav__link">
    <span class="md-ellipsis">
      
        Connect to existing GKE cluster from the local machine
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-github-oauth" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configure GitHub OAuth
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-redis-postgresql" class="md-nav__link">
    <span class="md-ellipsis">
      
        Install Redis &amp; PostgreSQL
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-visual-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Install Visual Flow
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-visual-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Use Visual Flow
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stop-start-gke-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        Stop \ Start GKE cluster
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delete-visual-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Delete Visual Flow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Delete Visual Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delete-gke" class="md-nav__link">
    <span class="md-ellipsis">
      
        Delete GKE
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Minikube
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Minikube
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../minikube/minikube/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation Visual Flow to Local Minikube
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Visual Flow services
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Visual Flow services
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Backend
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Backend
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Visual-Flow-services/Backend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About Visual Flow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Visual-Flow-services/Backend/DEVELOPMENT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Set up development environment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Backend(databases)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Backend(databases)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Visual-Flow-services/Backend%28databases%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About Visual Flow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Visual-Flow-services/Backend%28databases%29/DEVELOPMENT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Set up development environment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Backend(history)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Backend(history)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Visual-Flow-services/Backend%28history%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About Visual Flow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Frontend
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Frontend
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Visual-Flow-services/Frontend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About Visual Flow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Visual-Flow-services/Frontend/DEVELOPMENT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Development Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Jobs(Spark)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Jobs(Spark)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Visual-Flow-services/Jobs%28Spark%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About Visual Flow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Visual-Flow-services/Jobs%28Spark%29/DEVELOPMENT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Set up development environment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Visual-Flow-services/Jobs%28Spark%29/stage_fields/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Stage fields
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisite-installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Prerequisite Installation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-prerequisite-tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        Setting up prerequisite tools
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clone-visual-flow-repository" class="md-nav__link">
    <span class="md-ellipsis">
      
        Clone Visual Flow repository
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-gke-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create GKE cluster
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Create GKE cluster">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connect-to-existing-gke-cluster-from-the-local-machine" class="md-nav__link">
    <span class="md-ellipsis">
      
        Connect to existing GKE cluster from the local machine
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-github-oauth" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configure GitHub OAuth
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-redis-postgresql" class="md-nav__link">
    <span class="md-ellipsis">
      
        Install Redis &amp; PostgreSQL
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-visual-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Install Visual Flow
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-visual-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Use Visual Flow
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stop-start-gke-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        Stop \ Start GKE cluster
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delete-visual-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Delete Visual Flow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Delete Visual Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delete-gke" class="md-nav__link">
    <span class="md-ellipsis">
      
        Delete GKE
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="installation-visual-flow-to-google-kubernetes-engine-gke">Installation Visual Flow to Google Kubernetes Engine (GKE)</h1>
<ol>
<li><a href="#prerequisites">Prerequisite Installation</a><ul>
<li><a href="#prereqtools">Setting up prerequisite tools</a></li>
<li><a href="#clonevfrepo">Clone Visual Flow repository</a></li>
<li><a href="#createcluster">Create GKE cluster</a></li>
<li><a href="#oauthsetup">Configure GitHub OAuth</a></li>
<li><a href="#installdbs">Install Redis &amp; PostgreSQL</a></li>
</ul>
</li>
<li><a href="#installvf">Installation of Visual Flow</a></li>
<li><a href="#usevf">Use Visual Flow</a></li>
<li><a href="#stopvf">Stop \ Start GKE cluster</a></li>
<li><a href="#uninstallvf">Delete Visual Flow</a></li>
</ol>
<h2 id="prerequisite-installation"><a id="prerequisites">Prerequisite Installation</a></h2>
<blockquote>
<p>[!NOTE]
If you have any concerns, please contact us: info@visual-flow.com<BR></p>
</blockquote>
<h2 id="setting-up-prerequisite-tools"><a id="prereqtools">Setting up prerequisite tools</a></h2>
<p>To install Visual Flow on GKE you should have the following software on your local\master machine already installed:</p>
<ul>
<li>Google CLI (<a href="https://cloud.google.com/sdk/docs/install">install</a>)</li>
<li>kubectl (<a href="https://kubernetes.io/docs/tasks/tools/">install</a>)</li>
<li>gke-gcloud-auth-plugin (<a href="https://cloud.google.com/blog/products/containers-kubernetes/kubectl-auth-changes-in-gke">install</a>)</li>
<li>Helm CLI (<a href="https://helm.sh/docs/intro/install/">install</a>)</li>
<li>Git (<a href="https://git-scm.com/downloads">install</a>)</li>
</ul>
<blockquote>
<p>[!IMPORTANT]
All the actions are recommended to be performed from the Google account with "Project: Owner" privileges.</p>
</blockquote>
<p>If you have just installed the Google CLI, then you need to log in using the following command:</p>
<pre><code class="language-bash">gcloud auth login
</code></pre>
<h2 id="clone-visual-flow-repository"><a id="clonevfrepo">Clone Visual Flow repository</a></h2>
<p>Clone (or download) the <a href="https://github.com/ibagroup-eu/Visual-Flow-deploy/tree/google">google branch from Visual-Flow-deploy repository</a> on your local computer using the following command:</p>
<pre><code class="language-bash">git clone -b google https://github.com/ibagroup-eu/Visual-Flow-deploy.git Visual-Flow-GCP-deploy
cd Visual-Flow-GCP-deploy
</code></pre>
<h2 id="create-gke-cluster"><a id="createcluster">Create GKE cluster</a></h2>
<blockquote>
<p>[!IMPORTANT]
If you are new to GKE, please read about Google cloud cluster: cluster types, config params and pricing (<a href="https://cloud.google.com/kubernetes-engine/docs/concepts/types-of-clusters">https://cloud.google.com/kubernetes-engine/docs/concepts/types-of-clusters</a>)</p>
</blockquote>
<p>Visual Flow should be installed on GKE cluster. We recommend to use Standard cluster, because Autopilot cluster has some extra limitations and worse application performance. You can create GKE cluster using the following commands:</p>
<pre><code class="language-bash">export CLUSTER_NAME=visual-flow
export ZONE_NAME=us-central1-b
export NUM_NODES=2
gcloud container clusters create $CLUSTER_NAME --region $ZONE_NAME --num-nodes=$NUM_NODES

# check access
kubectl get nodes
kubectl get pods --all-namespaces
</code></pre>
<blockquote>
<p>[!TIP]
For additional info check the following guide:</p>
<p><a href="https://cloud.google.com/kubernetes-engine/docs/how-to/creating-a-zonal-cluster">https://cloud.google.com/kubernetes-engine/docs/how-to/creating-a-zonal-cluster</a></p>
</blockquote>
<h4 id="connect-to-existing-gke-cluster-from-the-local-machine">Connect to existing GKE cluster from the local machine</h4>
<p>If you already have GKE cluster, you can connect to it using the following command:</p>
<pre><code class="language-bash">gcloud container clusters get-credentials &lt;CLUSTER_NAME&gt; --zone &lt;ZONE_NAME&gt; --project &lt;GOOGLE_PROJECT_NAME&gt;
</code></pre>
<h2 id="configure-github-oauth"><a id="oauthsetup">Configure GitHub OAuth</a></h2>
<ol>
<li>Go to GitHub user's OAuth apps (<code>https://github.com/settings/developers</code>) or organization's OAuth apps (<code>https://github.com/organizations/&lt;ORG_NAME&gt;/settings/applications</code>)</li>
<li>Click the <strong>Register a new application</strong> or the <strong>New Org OAuth App</strong> button</li>
<li>Fill in the required fields:<ul>
<li>Set <strong>Homepage URL</strong> to <code>https://visual-flow-dummy-url.com/vf/ui/</code></li>
<li>Set <strong>Authorization callback URL</strong> to <code>https://visual-flow-dummy-url.com/vf/ui/callback</code></li>
</ul>
</li>
<li>Click the <strong>Register application</strong> button</li>
<li>Click <strong>Generate a new client secret</strong></li>
<li>Replace "DUMMY_ID" and "DUMMY_SECRET" with your <code>Client ID\Client secret</code> pair value in <a href="./charts/visual-flow/values.yaml">values.yaml</a>.</li>
</ol>
<blockquote>
<p>[!NOTE]
Make sure to copy client secret before you refresh or close the web page. The value will be hidden.<BR>
In case you lost your client secret, just create a new <code>Client ID\Client secret</code> pair.</p>
<p><code>visual-flow-dummy-url.com</code> is a dummy URL. After <a href="#installvf">Install</a> do not forget to update <strong>Homepage URL</strong> and <strong>Authorization callback URL</strong> fields.</p>
</blockquote>
<h2 id="install-redis-postgresql"><a id="installdbs">Install Redis &amp; PostgreSQL</a></h2>
<p>Some functionality of VF app requires to have Redis &amp; PosgreSQL dbs. Both of them with custom and default configs included in installation as a separate helm charts (values files with source from bitnami repo). </p>
<p><a href="https://github.com/ibagroup-eu/Visual-Flow-deploy/tree/amazon/charts/dbs">https://github.com/ibagroup-eu/Visual-Flow-deploy/tree/amazon/charts/dbs</a></p>
<p>You can get them and install on you cluster using the following commands:</p>
<p>Add 'bitnami' repository to helm repo list</p>
<pre><code class="language-bash">helm repo add bitnami https://charts.bitnami.com/bitnami
helm repo update
</code></pre>
<ol>
<li>Redis (for Session and Job's execution history)</li>
</ol>
<p><code>helm install redis -f charts/dbs/bitnami-redis/values.yaml bitnami/redis</code></p>
<ol>
<li>PostgreSQL (History service)</li>
</ol>
<p><code>helm install pgserver -f charts/dbs/bitnami-postgresql/values.yaml bitnami/postgresql</code></p>
<p>FYI: Just in case, it is better to save output of these commands (it contains helpful info with short guide, how to get access to pod &amp; dbs and show default credentials).</p>
<h2 id="install-visual-flow"><a id="installvf">Install Visual Flow</a></h2>
<blockquote>
<p>[!NOTE]
Current installation is configured to work on <code>default</code> namespace of your cluster.<BR>
But your Visual Flow projects are stored in <code>vf-&lt;projectname&gt;</code> namespaces.<BR></p>
</blockquote>
<ol>
<li>
<p>Go to the directory "<a href="https://github.com/ibagroup-eu/Visual-Flow-deploy/tree/google/charts/visual-flow">visual-flow</a>" of the downloaded "Visual-Flow-Deploy" repository with the following command:</p>
<p><code>bash
cd charts/visual-flow</code></p>
</li>
<li>
<p><em>(Optional)</em> Configure Slack notifications (replace <code>YOUR_SLACK_TOKEN</code>) in <a href="./charts/visual-flow/values.yaml">values.yaml</a> using the following guide:</p>
<p><a href="https://github.com/ibagroup-eu/Visual-Flow-deploy/blob/main/SLACK_NOTIFICATION.md">https://github.com/ibagroup-eu/Visual-Flow-deploy/blob/main/SLACK_NOTIFICATION.md</a></p>
</li>
<li>
<p>Set superusers in <a href="./charts/visual-flow/values.yaml">values.yaml</a>.</p>
<p>New Visual Flow users will have no access in the app. The superusers(admins) need to be configured to manage user access. Specify the superusers real GitHub nicknames in <a href="./charts/visual-flow/values.yaml">values.yaml</a> in the yaml list format:</p>
<p><code>yaml
superusers:
  - your-github-nickname
  # - another-superuser-nickname</code></p>
</li>
<li>
<p>If you have installed kube-metrics then update values.yaml file according to the example below.</p>
<ol>
<li>
<p>Check that the kube-metrics installed using the following command:</p>
<p><code>bash
kubectl top pods</code></p>
<p>Output if the kube-metrics isn't installed:</p>
<p><code>error: Metrics API not available</code></p>
<p>If the kube-metrics isn't installed then go to step 6.</p>
</li>
<li>
<p>Edit <a href="./charts/visual-flow/values.yaml">values.yaml</a> file according to the example below:</p>
<p><code>yaml
...
kube-metrics:
  install: false</code></p>
</li>
</ol>
</li>
<li>
<p>If you have installed Argo workflows then update values.yaml file according to the example below.</p>
<ol>
<li>
<p>Check that the Argo workflows installed using the following command:</p>
<p><code>bash
kubectl get workflow</code></p>
<p>Output if the Argo workflows isn't installed:</p>
<p><code>error: the server doesn't have a resource type "workflow"</code></p>
<p>If the Argo workflows isn't installed then go to step 7.</p>
</li>
<li>
<p>Edit <a href="./charts/visual-flow/values.yaml">values.yaml</a> file according to the example below:</p>
<p><code>yaml
...
argo:
  install: false
vf-app:
  backend:
    configFile:
      argoServerUrl: &lt;Argo-Server-URL&gt;</code></p>
</li>
</ol>
</li>
<li>
<p>Install the app using the updated <a href="./charts/visual-flow/values.yaml">values.yaml</a> file with the following command:</p>
<p><code>bash
helm upgrade -i vf-app . -f values.yaml -n default</code></p>
</li>
<li>
<p>Check that the app is successfully installed and all pods are running with the following command:</p>
<p><code>bash
kubectl get pods --all-namespaces</code></p>
</li>
<li>
<p>Get the generated app's hostname\IP with the following command:</p>
<p><code>bash
kubectl get svc visual-flow-frontend -n default -o yaml | grep -i clusterIP: | cut -c 14-</code></p>
<p>Replace the string <code>&lt;HOSTNAME_FROM_SERVICE&gt;</code> with the generated hostname\IP in the next steps.
Replace <code>visual-flow-dummy-url.com</code> from <a href="#oauthsetup">OAuth step</a> with your hostname or IP in <strong>Homepage URL</strong> and <strong>Authorization callback URL</strong> fields. Save changes.</p>
</li>
<li>
<p>Update 'host' (<code>host: https://&lt;HOSTNAME_FROM_SERVICE&gt;/vf/ui/</code>) and 'STRATEGY_CALLBACK_URL' (<code>STRATEGY_CALLBACK_URL: https://&lt;HOSTNAME_FROM_SERVICE&gt;/vf/ui/callback</code>) values in <a href="./charts/visual-flow/values.yaml">values.yaml</a>. </p>
</li>
<li>
<p>Upgrade the app in EKS cluster using updated values.yaml:</p>
<p><code>bash
helm upgrade vf-app . -f values.yaml -n default</code></p>
</li>
<li>
<p>Wait until the update is installed and all pods are running:</p>
<p><code>bash
kubectl get pods --all-namespaces</code></p>
</li>
</ol>
<h2 id="use-visual-flow"><a id="usevf">Use Visual Flow</a></h2>
<ol>
<li>
<p>All Visual Flow users (including superusers) need active Github account in order to be authenticated in application. Setup Github profile as described in the next steps:</p>
<ol>
<li>Navigate to the <a href="https://github.com/settings/profile">account settings</a></li>
<li>Go to <strong>Emails</strong> tab: set email as public by unchecking <strong>Keep my email addresses private</strong> checkbox</li>
<li>Go to <strong>Profile</strong> tab: fill in <strong>Name</strong> and <strong>Public email</strong> fields</li>
</ol>
</li>
<li>
<p>Open the app's web page using the following link:</p>
<p><code>https://&lt;HOSTNAME_FROM_SERVICE&gt;/vf/ui/</code></p>
</li>
<li>
<p>See the guide on how to work with the Visual Flow at the following link: <a href="https://github.com/ibagroup-eu/Visual-Flow/blob/main/Visual_Flow_User_Guide.pdf">Visual_Flow_User_Guide.pdf</a></p>
</li>
<li>
<p>For each project Visual Flow (VF) generates a new namespace. </p>
</li>
</ol>
<blockquote>
<p>[!IMPORTANT]
For each namespace there is a PVC that will be created and assigned automatically (<code>vf-pvc</code>) in RWX mode (<code>read\write-many</code>). GKE has default storage classes to provision PV in RWX modes (f.e. <code>standard-rwx</code>) that uses Cloud Filestore API service, but it has limitation size (1Tb-10Tb) when VF usually use small disks (f.e. 2G per project\namespace). So, each VF project will cost you at least 200$/month. There is an open ticket for this feature: (https://issuetracker.google.com/issues/193108375?pli=1). Instead, you can use NFS and assign it to each new namespace, but it have to be assigned manually for each VF project. You can read here about how to create yourself NFS server on your Google cloud (https://github.com/ibagroup-eu/Visual-Flow-deploy/blob/google/GCP_NFS_server_how_to.md). If you do not need to know how to create a new NFS server and assign VF to it you can skip this section.</p>
</blockquote>
<p>First, create the project in the app, open it and check the URL of the page. It will have the following format:</p>
<p><code>https://&lt;HOSTNAME_FROM_SERVICE&gt;/vf/ui/&lt;NAMESPACE&gt;/overview</code></p>
<p>Now delete automatically created PVC in that <NAMESPACE>:</p>
<p><code>bash
   kubectl delete pvc vf-pvc -n &lt;NAMESPACE&gt;</code></p>
<p>Once you have your NFS server ready, create a file with next content and replace items from comments in the header.</p>
<pre><code>```yaml
# &lt;PV_NAME&gt; - name of Persistent Volume for your project. # vf-pvc-testing
# &lt;STORAGE_SIZE&gt; - storage size that you want to assign to this VF project. # 2G
# &lt;NFS_HOST&gt; - NFS server ip. # YOUR_NFS_IP
# &lt;NFS_PATH&gt; - PATH to shared folder in your NFS you want to use in this VF project. # /share
# &lt;NAMESPACE&gt; - VF project namespace for jobs. # vf-test
apiVersion: v1
kind: PersistentVolume
metadata:
  name: &lt;PV_NAME&gt;
spec:
  storageClassName: ""
  persistentVolumeReclaimPolicy: Delete
  capacity:
    storage: &lt;STORAGE_SIZE&gt;
  accessModes:
    - ReadWriteMany
  nfs:
    server: &lt;NFS_HOST&gt;
    path: &lt;NFS_PATH&gt;
---   
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: vf-pvc
  namespace: &lt;NAMESPACE&gt;
spec:
  storageClassName: ""
  volumeName: &lt;PV_NAME&gt;
  accessModes:
    - ReadWriteMany
  resources:
    requests:
      storage: &lt;STORAGE_SIZE&gt;
```

Deploy your file using next command:

```bash
kubectl apply -f &lt;your_yaml_file_with_pvc&gt; -n &lt;NAMESPACE&gt;
```
</code></pre>
<h2 id="stop-start-gke-cluster"><a id="stopvf">Stop \ Start GKE cluster</a></h2>
<ol>
<li>
<p>If you want to stop temporary your GKE cluster and VF application, the easiest way is to scale down the number of nodes:</p>
<p><code>bash
gcloud container clusters resize visual-flow --node-pool default-pool --num-nodes 0 --zone &lt;ZONE_NAME&gt;</code></p>
</li>
<li>
<p>Once you need it back, just restore num-nodes back:</p>
<p><code>bash
gcloud container clusters resize visual-flow --node-pool default-pool --num-nodes &lt;NUM_NODES&gt; --zone &lt;ZONE_NAME&gt;</code></p>
</li>
</ol>
<h2 id="delete-visual-flow"><a id="uninstallvf">Delete Visual Flow</a></h2>
<ol>
<li>
<p>If the app is no longer required, you can delete it using the following command:</p>
<p><code>bash
helm uninstall vf-app -n default</code></p>
</li>
<li>
<p>Check that everything was successfully deleted with the command:</p>
<p><code>bash
kubectl get pods -n default</code></p>
</li>
</ol>
<h4 id="delete-gke">Delete GKE</h4>
<ol>
<li>
<p>If the GKE is no longer required, you can delete it using the following guide:</p>
<p><a href="https://cloud.google.com/sdk/gcloud/reference/container/clusters/delete">https://cloud.google.com/sdk/gcloud/reference/container/clusters/delete</a></p>
</li>
</ol>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>